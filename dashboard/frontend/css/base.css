/* ============================================================
   Reset & Base Styles
   ============================================================ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; scroll-padding-top: var(--space-6); }
body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--font);
    font-size: var(--text-base);
    line-height: 1.6;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
    display: flex;
}

/* Scrollbar */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #9ca3af; }

/* ============================================================
   Animations & Keyframes
   ============================================================ */
@keyframes fade-in-up {
    to { opacity: 1; transform: translateY(0); }
}
@keyframes page-fade-in {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
}
@keyframes livePulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}
@keyframes kpiFlash {
    0% { background: rgba(60, 180, 173, 0.15); }
    100% { background: transparent; }
}
@keyframes detail-slide-in {
    from { opacity: 0; max-height: 0; }
    to { opacity: 1; max-height: 600px; }
}
@keyframes chatSlideIn {
    from { opacity: 0; transform: translateY(20px) scale(0.96); }
    to { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes typingBounce {
    0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
    30% { transform: translateY(-6px); opacity: 1; }
}
@keyframes botPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}
@keyframes spin {
    to { transform: rotate(360deg); }
}

/* ============================================================
   SPA Page Transitions
   ============================================================ */
.dash-page { display: none; }
.dash-page.active {
    display: block;
    animation: page-fade-in 0.4s ease-out;
}

/* ============================================================
   Utility
   ============================================================ */
.kpi-updated { animation: kpiFlash 0.6s ease; }
.loading-spinner {
    display: inline-block; width: 16px; height: 16px;
    border: 2px solid var(--card-border);
    border-top-color: var(--accent);
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
}
.progress-fill { transition: width 1.2s cubic-bezier(.25,.1,.25,1); }

/* ============================================================
   Skeleton Loading â€” fragment page loader
   ============================================================ */
@keyframes skeleton-shimmer {
    0% { background-position: -200px 0; }
    100% { background-position: calc(200px + 100%) 0; }
}
.page-loading { padding: var(--space-4); }
.skeleton-line {
    height: 20px; width: 40%;
    border-radius: 6px;
    margin-bottom: var(--space-4);
    background: linear-gradient(90deg, #e5e7eb 25%, #f3f4f6 50%, #e5e7eb 75%);
    background-size: 200px 100%;
    animation: skeleton-shimmer 1.4s ease infinite;
}
.skeleton-card {
    height: 120px;
    border-radius: var(--radius-md);
    margin-bottom: var(--space-3);
    background: linear-gradient(90deg, #e5e7eb 25%, #f3f4f6 50%, #e5e7eb 75%);
    background-size: 200px 100%;
    animation: skeleton-shimmer 1.4s ease infinite;
}
